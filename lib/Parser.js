var magic=function(){var a={trace:function(){},yy:{},symbols_:{error:2,MagicExpr:3,e:4,EOF:5,"*":6,NUM:7,">":8,"(":9,")":10,element:11,"+":12,IDENTIFIER:13,CLASS:14,"class":15,ID:16,id:17,"[":18,EQUALS:19,"]":20,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",6:"*",7:"NUM",8:">",9:"(",10:")",12:"+",13:"IDENTIFIER",14:"CLASS",16:"ID",18:"[",19:"EQUALS",20:"]"},productions_:[0,[3,2],[4,3],[4,3],[4,3],[4,1],[4,3],[11,1],[11,3],[11,3],[11,6],[15,1],[15,3],[17,1],[17,3]],performAction:function(a,b,c,d,e,f,g){function h(a,b){for(var c in b)try{b[c].constructor==Object?a[c]=h(a[c],b[c]):a[c]=b[c]}catch(d){a[c]=b[c]}return a}var i=f.length-1;switch(e){case 1:return f[i-1];case 2:this.$={op:"*",left:f[i-2],right:f[i]};break;case 3:this.$={op:f[i-1],left:f[i-2],right:f[i]};break;case 4:this.$=f[i-1];break;case 5:this.$=f[i];break;case 6:this.$={op:f[i-1],left:f[i-2],right:f[i]};break;case 7:this.$={tag:f[i]};break;case 8:this.$={tag:f[i-2],"class":f[i],props:{}};break;case 9:this.$=h({tag:f[i-2]},f[i]);break;case 10:var j={};j[f[i-3]]=f[i-1],this.$=h(this.$,{props:j});break;case 11:this.$=[f[i]];break;case 12:this.$=[f[i-2]].concat(f[i]);break;case 13:this.$={id:f[i],"class":[]};break;case 14:this.$={id:f[i-2],"class":f[i]}}},table:[{3:1,4:2,9:[1,3],11:4,13:[1,5]},{1:[3]},{5:[1,6],6:[1,7],8:[1,8],12:[1,9]},{4:10,9:[1,3],11:4,13:[1,5]},{5:[2,5],6:[2,5],8:[2,5],10:[2,5],12:[2,5],18:[1,11]},{5:[2,7],6:[2,7],8:[2,7],10:[2,7],12:[2,7],14:[1,12],16:[1,13],18:[2,7]},{1:[2,1]},{7:[1,14]},{4:15,9:[1,3],11:4,13:[1,5]},{4:16,9:[1,3],11:4,13:[1,5]},{6:[1,7],8:[1,8],10:[1,17],12:[1,9]},{13:[1,18]},{13:[1,20],15:19},{13:[1,22],17:21},{5:[2,2],6:[2,2],8:[2,2],10:[2,2],12:[2,2]},{5:[2,3],6:[1,7],8:[2,3],10:[2,3],12:[1,9]},{5:[2,6],6:[1,7],8:[2,6],10:[2,6],12:[2,6]},{5:[2,4],6:[2,4],8:[2,4],10:[2,4],12:[2,4]},{19:[1,23]},{5:[2,8],6:[2,8],8:[2,8],10:[2,8],12:[2,8],18:[2,8]},{5:[2,11],6:[2,11],8:[2,11],10:[2,11],12:[2,11],14:[1,24],18:[2,11]},{5:[2,9],6:[2,9],8:[2,9],10:[2,9],12:[2,9],18:[2,9]},{5:[2,13],6:[2,13],8:[2,13],10:[2,13],12:[2,13],14:[1,25],18:[2,13]},{13:[1,26]},{13:[1,20],15:27},{13:[1,20],15:28},{20:[1,29]},{5:[2,12],6:[2,12],8:[2,12],10:[2,12],12:[2,12],18:[2,12]},{5:[2,14],6:[2,14],8:[2,14],10:[2,14],12:[2,14],18:[2,14]},{5:[2,10],6:[2,10],8:[2,10],10:[2,10],12:[2,10],18:[2,10]}],defaultActions:{6:[2,1]},parseError:function(a,b){throw new Error(a)},parse:function f(a){function n(a){c.length=c.length-2*a,d.length=d.length-a,e.length=e.length-a}function o(){var a;return a=b.lexer.lex()||1,typeof a!="number"&&(a=b.symbols_[a]||a),a}var b=this,c=[0],d=[null],e=[],f=this.table,g="",h=0,i=0,j=0,k=2,l=1;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,typeof this.lexer.yylloc=="undefined"&&(this.lexer.yylloc={});var m=this.lexer.yylloc;e.push(m),typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);var p,q,r,s,t,u,v={},w,x,y,z;for(;;){r=c[c.length-1],this.defaultActions[r]?s=this.defaultActions[r]:(p==null&&(p=o()),s=f[r]&&f[r][p]);if(typeof s=="undefined"||!s.length||!s[0]){if(!j){z=[];for(w in f[r])this.terminals_[w]&&w>2&&z.push("'"+this.terminals_[w]+"'");var A="";this.lexer.showPosition?A="Parse error on line "+(h+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+z.join(", "):A="Parse error on line "+(h+1)+": Unexpected "+(p==1?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(A,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:m,expected:z})}if(j==3){if(p==l)throw new Error(A||"Parsing halted.");i=this.lexer.yyleng,g=this.lexer.yytext,h=this.lexer.yylineno,m=this.lexer.yylloc,p=o()}for(;;){if(k.toString()in f[r])break;if(r==0)throw new Error(A||"Parsing halted.");n(1),r=c[c.length-1]}q=p,p=k,r=c[c.length-1],s=f[r]&&f[r][k],j=3}if(s[0]instanceof Array&&s.length>1)throw new Error("Parse Error: multiple actions possible at state: "+r+", token: "+p);switch(s[0]){case 1:c.push(p),d.push(this.lexer.yytext),e.push(this.lexer.yylloc),c.push(s[1]),p=null,q?(p=q,q=null):(i=this.lexer.yyleng,g=this.lexer.yytext,h=this.lexer.yylineno,m=this.lexer.yylloc,j>0&&j--);break;case 2:x=this.productions_[s[1]][1],v.$=d[d.length-x],v._$={first_line:e[e.length-(x||1)].first_line,last_line:e[e.length-1].last_line,first_column:e[e.length-(x||1)].first_column,last_column:e[e.length-1].last_column},u=this.performAction.call(v,g,i,h,this.yy,s[1],d,e);if(typeof u!="undefined")return u;x&&(c=c.slice(0,-1*x*2),d=d.slice(0,-1*x),e=e.slice(0,-1*x)),c.push(this.productions_[s[1]][0]),d.push(v.$),e.push(v._$),y=f[c[c.length-2]][c[c.length-1]],c.push(y);break;case 3:return!0}}return!0}},b=function(){var a={EOF:1,parseError:function b(a,b){if(this.yy.parseError)this.yy.parseError(a,b);else throw new Error(a)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.match+=a,this.matched+=a;var b=a.match(/\n/);return b&&this.yylineno++,this._input=this._input.slice(1),a},unput:function(a){return this._input=a+this._input,this},more:function(){return this._more=!0,this},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=(new Array(a.length+1)).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d;this._more||(this.yytext="",this.match="");var e=this._currentRules();for(var f=0;f<e.length;f++){b=this._input.match(this.rules[e[f]]);if(b){d=b[0].match(/\n.*/g),d&&(this.yylineno+=d.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:d?d[d.length-1].length-1:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,this.yy,this,e[f],this.conditionStack[this.conditionStack.length-1]);if(a)return a;return}}if(this._input==="")return this.EOF;this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return typeof a!="undefined"?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules}};return a.performAction=function(a,b,c,d){var e=d;switch(c){case 0:break;case 1:return 7;case 2:return 13;case 3:return 14;case 4:return 16;case 5:return 12;case 6:return 8;case 7:return 6;case 8:return 18;case 9:return 20;case 10:return 19;case 11:return 9;case 12:return 10;case 13:return 5;case 14:return"INVALID"}},a.rules=[/^\s+/,/^[0-9]+/,/^[a-z0-9A-Z:_-]+/,/^\./,/^#/,/^\+/,/^>/,/^\*/,/^\[/,/^\]/,/^=/,/^\(/,/^\)/,/^$/,/^./],a.conditions={INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],inclusive:!0}},a}();return a.lexer=b,a}();typeof require!="undefined"&&typeof exports!="undefined"&&(exports.parser=magic,exports.parse=function(){return magic.parse.apply(magic,arguments)})